<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <h1>Are the devtools open?</h1>
    <center id="output" style="font-size: 50px;">
      No.
    </center>
    <footer>
      <button onclick="document.getElementById('output').innerHTML = 'Basically, we create a regex, set its toString function, and constantly console.dir an object containing the regex. If the console is opened, it'll call the toString function.';">How does this work?</button>
      <a href="https://github.com/BalaM314/is-console-open/">Source Code</a><br>
      Note: this no longer works on the latest versions of Chrome as the behavior of console.dir was changed. I'm looking for a workaround.
    </footer>
    <script type="text/javascript">
      var openedDevTools = false;
      let timesRan = 0;
      function onConsoleOpen(){
        if(openedDevTools) return;
        openedDevTools = true;
        document.getElementById("output").innerHTML = "Yes!";
        alert("DevTools opened!");
        clearInterval(cancel);
        console.clear();//necessary due to potential lag if page was open long enough
      }

      let x = /leet/;
      x.toString = () => {onConsoleOpen(); return "balam314 is awesome";}
      var cancel = setInterval(() => {
        console.dir({e: x});
      }, 100);
    </script>
  </body>
</html>
